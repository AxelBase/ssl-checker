import{f as w,a as b,t as le}from"../chunks/B59oYl3O.js";import"../chunks/CISPwx2u.js";import{j as z,aH as ne,aI as ce,b as h,ag as de,x as k,aJ as ve,a8 as ue,aK as O,aL as fe,a0 as C,g as a,a9 as me,a1 as d,a6 as n,aG as m,z as y,a7 as c,a5 as B}from"../chunks/D4MYDDAK.js";import{e as he,s as g}from"../chunks/BgmI6ziv.js";import{i as L}from"../chunks/BOElYe_p.js";import{r as _e}from"../chunks/BknzdYNj.js";import{i as ge}from"../chunks/D9x5Cm3P.js";function pe(e,i,v){var r=e==null?"":""+e;return r===""?null:r}function be(e,i,v,r,o,l){var f=e.__className;if(z||f!==v||f===void 0){var s=pe(v);(!z||s!==e.getAttribute("class"))&&(s==null?e.removeAttribute("class"):e.className=s),e.__className=v}return l}function ye(e,i,v=i){var r=new WeakSet;ne(e,"input",async o=>{var l=o?e.defaultValue:e.value;if(l=P(e)?j(l):l,v(l),k!==null&&r.add(k),await ce(),l!==(l=i())){var f=e.selectionStart,s=e.selectionEnd,S=e.value.length;if(e.value=l??"",s!==null){var _=e.value.length;f===s&&s===S&&_>S?(e.selectionStart=_,e.selectionEnd=_):(e.selectionStart=f,e.selectionEnd=Math.min(s,_))}}}),(z&&e.defaultValue!==e.value||h(i)==null&&e.value)&&(v(P(e)?j(e.value):e.value),k!==null&&r.add(k)),de(()=>{var o=i();if(e===document.activeElement){var l=ve??k;if(r.has(l))return}P(e)&&o===j(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function P(e){var i=e.type;return i==="number"||i==="range"}function j(e){return e===""?null:+e}const xe=!0,Ve=Object.freeze(Object.defineProperty({__proto__:null,prerender:xe},Symbol.toStringTag,{value:"Module"}));async function ke(e){const i=`https://ssl-checker.io/api/v1/check/${e}`,v=`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(i)}`;console.log(`Starting SSL check for domain: ${e}`),console.log(`Using proxy URL: ${v}`);try{const r=await fetch(v);if(console.log("Fetch response received:",{status:r.status,ok:r.ok,headers:Array.from(r.headers.entries())}),!r.ok)throw console.error("Proxy fetch failed with status:",r.status),new Error(`Proxy request failed with status ${r.status}`);const o=await r.json();if(console.log("Parsed API data:",o),o.status!=="ok")throw console.error("API status error:",o.status,o.result),new Error(o.result?.reason||"Failed to check certificate");const l=o.result;if(!l.cert_valid&&!l.cert_exp)throw console.warn("Certificate invalid for unknown reason"),new Error("Certificate is invalid or not found");return l}catch(r){throw console.error("Fetch error:",r.message,r.stack),r}}function we(e){let i=e.trim().toLowerCase();if(i.startsWith("http://")||i.startsWith("https://"))try{i=new URL(i).hostname}catch{return{valid:!1,domain:null,message:"Invalid URL format"}}return/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)?{valid:!0,domain:i,message:null}:{valid:!1,domain:null,message:"Invalid domain format"}}function Se(e){return e<=0||e<15?"danger":e<=30?"warning":"success"}var Ce=w('<small class="text-danger mt-2 d-block"> </small>'),Le=w('<span class="spinner-border spinner-border-sm me-2" role="status"></span> Checking...',1),Ee=w('<div class="alert alert-danger mt-4"> </div>'),Ie=w('<div class="mt-5 p-4 bg-dark rounded"><h3 class="text-center mb-4">Results for <strong> </strong></h3> <div class="row text-center"><div class="col-md-6 mb-3"><strong>Issuer:</strong> </div> <div class="col-md-6 mb-3"><strong>Valid From:</strong> </div> <div class="col-md-6 mb-3"><strong>Expires:</strong> </div> <div class="col-md-6 mb-3"><strong>Days Left:</strong> </div></div> <div class="text-center mt-4"><span> </span></div></div>'),Ae=w(`<div class="container py-5"><section id="home" class="text-center mb-5"><h1 class="display-4 fw-bold mb-4">SSL Certificate Expiry Checker</h1> <p class="lead text-muted">Instantly check when any domain's SSL certificate expires</p></section> <div class="row justify-content-center"><div class="col-lg-8"><div class="card border-0 shadow-lg"><div class="card-body p-5"><div class="mb-4"><label for="domain" class="form-label fs-5">Enter Domain or Full URL</label> <input type="text" id="domain" class="form-control form-control-lg" placeholder="github.com or https://example.com/path"/> <!></div> <button class="btn btn-primary btn-lg w-100"><!></button> <!> <!></div></div></div></div> <section id="about" class="mt-5 py-5"><h2>About</h2> <p>AxelBase SSL Checker is a free, open-source tool to monitor certificate expiry dates.</p></section> <section id="how-to-use" class="mt-5 py-5"><h2>How to Use</h2> <p>Just enter any domain or full URL and click "Check SSL Certificate". Works instantly.</p></section> <section id="faq" class="mt-5 py-5"><h2>FAQ</h2> <p><strong>Is it private?</strong> Yes â€” no logs, no tracking, no storage.</p></section></div>`);function We(e,i){ue(i,!1);const v=y();let r=y(""),o=y({valid:!1,domain:null,message:null}),l=y(!1),f=y(""),s=y(null);async function S(){m(f,""),m(s,null),m(l,!0);try{const t=await ke(a(o).domain);m(s,{domain:t.host,issuer:t.issuer_cn,validFrom:t.valid_from,expiry:t.valid_till,daysRemaining:t.days_left,statusColor:Se(t.days_left)})}catch(t){m(f,t.message||"An error occurred while checking the certificate.")}finally{m(l,!1)}}O(()=>a(r),()=>{m(o,we(a(r)))}),O(()=>a(o),()=>{m(v,a(o).valid)}),fe(),ge();var _=Ae(),V=d(n(_),2),W=n(V),q=n(W),D=n(q),E=n(D),I=d(n(E),2);_e(I);var G=d(I,2);{var K=t=>{var u=Ce(),p=n(u,!0);c(u),C(()=>g(p,(a(o),h(()=>a(o).message)))),b(t,u)};L(G,t=>{a(r)&&!a(v)&&t(K)})}c(E);var x=d(E,2),Q=n(x);{var T=t=>{var u=Le();B(),b(t,u)},Y=t=>{var u=le("Check SSL Certificate");b(t,u)};L(Q,t=>{a(l)?t(T):t(Y,!1)})}c(x);var N=d(x,2);{var X=t=>{var u=Ee(),p=n(u,!0);c(u),C(()=>g(p,a(f))),b(t,u)};L(N,t=>{a(f)&&t(X)})}var Z=d(N,2);{var ee=t=>{var u=Ie(),p=n(u),H=d(n(p)),ae=n(H,!0);c(H),c(p);var A=d(p,2),R=n(A),te=d(n(R));c(R);var U=d(R,2),re=d(n(U));c(U);var $=d(U,2),se=d(n($));c($);var J=d($,2),oe=d(n(J));c(J),c(A);var M=d(A,2),F=n(M),ie=n(F,!0);c(F),c(M),c(u),C(()=>{g(ae,(a(s),h(()=>a(s).domain))),g(te,` ${a(s),h(()=>a(s).issuer)??""}`),g(re,` ${a(s),h(()=>a(s).validFrom)??""}`),g(se,` ${a(s),h(()=>a(s).expiry)??""}`),g(oe,` ${a(s),h(()=>a(s).daysRemaining)??""}`),be(F,1,`badge bg-${a(s),h(()=>a(s).statusColor)??""} fs-5 px-4 py-3`),g(ie,(a(s),h(()=>a(s).daysRemaining>0?"Valid":"Expired")))}),b(t,u)};L(Z,t=>{a(s)&&t(ee)})}c(D),c(q),c(W),c(V),B(6),c(_),C(()=>x.disabled=!a(v)||a(l)),ye(I,()=>a(r),t=>m(r,t)),he("click",x,S),b(e,_),me()}export{We as component,Ve as universal};
